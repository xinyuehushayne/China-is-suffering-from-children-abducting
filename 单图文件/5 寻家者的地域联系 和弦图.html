<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
</head>
<body style="height:600px;with:1000px">
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <h1 style="text-align:center">寻家者的地域联系</h1>
    <div id="main" style="height:100%;width: 100%"></div>
    <!-- ECharts单文件引入 -->
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <script type="text/javascript">
     var myChart = echarts.init(document.getElementById('main'));


    var graph = {
        "nodes":[
                {"name":"广东","value":31.4},
                {"name":"安徽","value":29.4},
                {"name":"浙江","value":27.8},
                {"name":"山东","value":25},
                {"name":"山西","value":23.8},
                {"name":"湖北","value":20},
                {"name":"河北","value":19.4},
                {"name":"上海","value":18.2},
                {"name":"江西","value":14.2},
                {"name":"黑龙江","value":13.4},
                // {"name":"未知","value":13.2},
                {"name":"湖南","value":12.8},
                {"name":"贵州","value":12.6},
                {"name":"重庆","value":12.2},
                {"name":"辽宁","value":11},
                {"name":"内蒙古","value":10},
                {"name":"广西","value":8.2},
                {"name":"吉林","value":7.6},
                {"name":"云南","value":7},
                {"name":"北京","value":6.8},
                {"name":"甘肃","value":4.8},
                {"name":"新疆","value":3.8},
                {"name":"天津","value":2.4},
                {"name":"青海","value":2},
                {"name":"海南","value":1},
                {"name":"宁夏","value":0.8},
                {"name":"香港","value":0.6},
                {"name":"西藏","value":0.2},
                {"name":"台湾","value":0.2},
                {"name":"陕西","value":0.2},
                {"name":"江苏","value":57.4},
                {"name":"四川","value":38.8},
                {"name":"河南","value":35.2},
                {"name":"福建","value":33.2}],
        "links":[{"target":"重庆","source":"安徽","value":1},
            {"target":"重庆","source":"北京","value":1},
            {"target":"重庆","source":"广东","value":2},
            {"target":"重庆","source":"贵州","value":1},
            {"target":"重庆","source":"河北","value":2},
            {"target":"重庆","source":"湖南","value":1},
            {"target":"重庆","source":"江苏","value":1},
            {"target":"重庆","source":"山东","value":2},
            {"target":"重庆","source":"山西","value":1},
            {"target":"重庆","source":"上海","value":1},
            {"target":"重庆","source":"四川","value":6},
            {"target":"重庆","source":"未知","value":6},
            {"target":"重庆","source":"重庆","value":36},
            {"target":"浙江","source":"安徽","value":1},
            {"target":"浙江","source":"福建","value":1},
            {"target":"浙江","source":"河北","value":9},
            {"target":"浙江","source":"河南","value":8},
            {"target":"浙江","source":"湖南","value":1},
            {"target":"浙江","source":"加拿大","value":1},
            {"target":"浙江","source":"江苏","value":7},
            {"target":"浙江","source":"江西","value":1},
            {"target":"浙江","source":"美国","value":1},
            {"target":"浙江","source":"山东","value":25},
            {"target":"浙江","source":"山西","value":1},
            {"target":"浙江","source":"上海","value":2},
            {"target":"浙江","source":"天津","value":1},
            {"target":"浙江","source":"未知","value":18},
            {"target":"浙江","source":"浙江","value":62},
            {"target":"安徽","source":"安徽","value":91},
            {"target":"安徽","source":"福建","value":2},
            {"target":"安徽","source":"广东","value":3},
            {"target":"安徽","source":"河北","value":5},
            {"target":"安徽","source":"河南","value":10},
            {"target":"安徽","source":"黑龙江","value":1},
            {"target":"安徽","source":"湖北","value":1},
            {"target":"安徽","source":"江苏","value":8},
            {"target":"安徽","source":"江西","value":1},
            {"target":"安徽","source":"山东","value":5},
            {"target":"安徽","source":"陕西","value":1},
            {"target":"安徽","source":"上海","value":5},
            {"target":"安徽","source":"未知","value":10},
            {"target":"安徽","source":"新疆","value":1},
            {"target":"安徽","source":"浙江","value":3},
            {"target":"云南","source":"安徽","value":2},
            {"target":"云南","source":"北京","value":1},
            {"target":"云南","source":"福建","value":3},
            {"target":"云南","source":"广东","value":2},
            {"target":"云南","source":"贵州","value":1},
            {"target":"云南","source":"河北","value":2},
            {"target":"云南","source":"河南","value":1},
            {"target":"云南","source":"湖北","value":1},
            {"target":"云南","source":"山东","value":1},
            {"target":"云南","source":"未知","value":10},
            {"target":"云南","source":"云南","value":8},
            {"target":"云南","source":"浙江","value":1},
            {"target":"云南","source":"重庆","value":2},
            {"target":"新疆","source":"安徽","value":1},
            {"target":"新疆","source":"湖北","value":2},
            {"target":"新疆","source":"湖南","value":1},
            {"target":"新疆","source":"江苏","value":2},
            {"target":"新疆","source":"山东","value":3},
            {"target":"新疆","source":"四川","value":1},
            {"target":"新疆","source":"未知","value":2},
            {"target":"新疆","source":"新疆","value":6},
            {"target":"西藏","source":"西藏","value":1},
            {"target":"香港","source":"广东","value":2},
            {"target":"香港","source":"香港","value":1},
            {"target":"台湾","source":"未知","value":1},
            // {"target":"未知","source":"福建","value":8},
            // {"target":"未知","source":"广东","value":3},
            // {"target":"未知","source":"贵州","value":1},
            // {"target":"未知","source":"河北","value":7},
            // {"target":"未知","source":"河南","value":15},
            // {"target":"未知","source":"江苏","value":9},
            // {"target":"未知","source":"江西","value":1},
            // {"target":"未知","source":"山东","value":10},
            // {"target":"未知","source":"上海","value":1},
            // {"target":"未知","source":"未知","value":11},
            // {"target":"未知","source":"浙江","value":1},
            {"target":"天津","source":"北京","value":1},
            {"target":"天津","source":"河北","value":2},
            {"target":"天津","source":"天津","value":5},
            {"target":"天津","source":"未知","value":4},
            {"target":"四川","source":"安徽","value":4},
            {"target":"四川","source":"福建","value":8},
            {"target":"四川","source":"广东","value":5},
            {"target":"四川","source":"广西","value":1},
            {"target":"四川","source":"贵州","value":1},
            {"target":"四川","source":"河北","value":15},
            {"target":"四川","source":"河南","value":19},
            {"target":"四川","source":"江苏","value":7},
            {"target":"四川","source":"辽宁","value":1},
            {"target":"四川","source":"内蒙古","value":3},
            {"target":"四川","source":"山东","value":6},
            {"target":"四川","source":"陕西","value":2},
            {"target":"四川","source":"四川","value":92},
            {"target":"四川","source":"未知","value":18},
            {"target":"四川","source":"新疆","value":2},
            {"target":"四川","source":"云南","value":1},
            {"target":"四川","source":"浙江","value":3},
            {"target":"四川","source":"重庆","value":6},
            {"target":"四川","source":"重庆","value":0},
            {"target":"上海","source":"安徽","value":2},
            {"target":"上海","source":"福建","value":1},
            {"target":"上海","source":"广西","value":1},
            {"target":"上海","source":"河北","value":4},
            {"target":"上海","source":"河南","value":44},
            {"target":"上海","source":"吉林","value":1},
            {"target":"上海","source":"江苏","value":4},
            {"target":"上海","source":"辽宁","value":3},
            {"target":"上海","source":"山东","value":6},
            {"target":"上海","source":"山西","value":5},
            {"target":"上海","source":"上海","value":14},
            {"target":"上海","source":"未知","value":6},
            {"target":"福建","source":"安徽","value":1},
            {"target":"福建","source":"北京","value":2},
            {"target":"福建","source":"福建","value":126},
            {"target":"福建","source":"甘肃","value":1},
            {"target":"福建","source":"广东","value":2},
            {"target":"福建","source":"广西","value":3},
            {"target":"福建","source":"湖北","value":1},
            {"target":"福建","source":"吉林","value":2},
            {"target":"福建","source":"江西","value":1},
            {"target":"福建","source":"辽宁","value":2},
            {"target":"福建","source":"内蒙古","value":1},
            {"target":"福建","source":"青海","value":1},
            {"target":"福建","source":"山东","value":2},
            {"target":"福建","source":"上海","value":2},
            {"target":"福建","source":"未知","value":13},
            {"target":"福建","source":"云南","value":2},
            {"target":"福建","source":"浙江","value":2},
            {"target":"福建","source":"重庆","value":1},
            {"target":"山西","source":"福建","value":1},
            {"target":"山西","source":"河北","value":27},
            {"target":"山西","source":"河南","value":11},
            {"target":"山西","source":"黑龙江","value":1},
            {"target":"山西","source":"湖北","value":1},
            {"target":"山西","source":"江苏","value":1},
            {"target":"山西","source":"辽宁","value":1},
            {"target":"山西","source":"内蒙古","value":2},
            {"target":"山西","source":"山东","value":23},
            {"target":"山西","source":"山西","value":38},
            {"target":"山西","source":"陕西","value":1},
            {"target":"山西","source":"天津","value":3},
            {"target":"山西","source":"未知","value":6},
            {"target":"山西","source":"新疆","value":2},
            {"target":"山西","source":"浙江","value":1},
            {"target":"北京","source":"安徽","value":1},
            {"target":"北京","source":"北京","value":15},
            {"target":"北京","source":"广东","value":1},
            {"target":"北京","source":"河北","value":7},
            {"target":"北京","source":"河南","value":2},
            {"target":"北京","source":"江苏","value":1},
            {"target":"北京","source":"辽宁","value":2},
            {"target":"北京","source":"山东","value":1},
            {"target":"北京","source":"未知","value":3},
            {"target":"北京","source":"浙江","value":1},
            {"target":"山东","source":"安徽","value":2},
            {"target":"山东","source":"北京","value":2},
            {"target":"山东","source":"广东","value":1},
            {"target":"山东","source":"贵州","value":1},
            {"target":"山东","source":"河北","value":1},
            {"target":"山东","source":"河南","value":1},
            {"target":"山东","source":"黑龙江","value":2},
            {"target":"山东","source":"吉林","value":1},
            {"target":"山东","source":"江苏","value":3},
            {"target":"山东","source":"内蒙古","value":2},
            {"target":"山东","source":"山东","value":92},
            {"target":"山东","source":"山西","value":1},
            {"target":"山东","source":"上海","value":1},
            {"target":"山东","source":"天津","value":1},
            {"target":"山东","source":"未知","value":13},
            {"target":"山东","source":"浙江","value":1},
            {"target":"青海","source":"河南","value":1},
            {"target":"青海","source":"青海","value":2},
            {"target":"青海","source":"四川","value":1},
            {"target":"青海","source":"重庆","value":1},
            {"target":"宁夏","source":"河北","value":1},
            {"target":"宁夏","source":"河南","value":2},
            {"target":"宁夏","source":"宁夏","value":1},
            {"target":"甘肃","source":"陕西","value":1},
            {"target":"内蒙古","source":"安徽","value":1},
            {"target":"内蒙古","source":"北京","value":2},
            {"target":"内蒙古","source":"福建","value":2},
            {"target":"内蒙古","source":"河北","value":1},
            {"target":"内蒙古","source":"河南","value":3},
            {"target":"内蒙古","source":"江西","value":1},
            {"target":"内蒙古","source":"辽宁","value":1},
            {"target":"内蒙古","source":"内蒙古","value":21},
            {"target":"内蒙古","source":"山东","value":5},
            {"target":"内蒙古","source":"山西","value":1},
            {"target":"内蒙古","source":"天津","value":1},
            {"target":"内蒙古","source":"未知","value":4},
            {"target":"江西","source":"湖南","value":1},
            {"target":"江西","source":"江西","value":1},
            {"target":"江西","source":"美国","value":1},
            {"target":"江西","source":"山东","value":2},
            {"target":"江西","source":"上海","value":2},
            {"target":"江西","source":"四川","value":1},
            {"target":"江西","source":"未知","value":6},
            {"target":"江西","source":"云南","value":1},
            {"target":"江西","source":"浙江","value":5},
            {"target":"江西","source":"重庆","value":1},
            {"target":"辽宁","source":"安徽","value":1},
            {"target":"辽宁","source":"北京","value":2},
            {"target":"辽宁","source":"广东","value":1},
            {"target":"辽宁","source":"海南","value":1},
            {"target":"辽宁","source":"河北","value":1},
            {"target":"辽宁","source":"河南","value":1},
            {"target":"辽宁","source":"黑龙江","value":1},
            {"target":"辽宁","source":"江苏","value":1},
            {"target":"辽宁","source":"辽宁","value":1},
            {"target":"辽宁","source":"内蒙古","value":4},
            {"target":"辽宁","source":"山东","value":4},
            {"target":"辽宁","source":"山西","value":1},
            {"target":"辽宁","source":"未知","value":4},
            {"target":"江苏","source":"安徽","value":1},
            {"target":"江苏","source":"北京","value":2},
            {"target":"江苏","source":"福建","value":2},
            {"target":"江苏","source":"广东","value":1},
            {"target":"江苏","source":"海南","value":1},
            {"target":"江苏","source":"河北","value":1},
            {"target":"江苏","source":"河南","value":1},
            {"target":"江苏","source":"黑龙江","value":2},
            {"target":"江苏","source":"湖北","value":2},
            {"target":"江苏","source":"江苏","value":1},
            {"target":"江苏","source":"辽宁","value":1},
            {"target":"江苏","source":"山东","value":35},
            {"target":"江苏","source":"山西","value":4},
            {"target":"江苏","source":"陕西","value":1},
            {"target":"江苏","source":"上海","value":2},
            {"target":"江苏","source":"四川","value":1},
            {"target":"江苏","source":"未知","value":1},
            {"target":"江苏","source":"新疆","value":1},
            {"target":"吉林","source":"北京","value":1},
            {"target":"吉林","source":"甘肃","value":1},
            {"target":"吉林","source":"广东","value":1},
            {"target":"吉林","source":"河北","value":1},
            {"target":"吉林","source":"河南","value":1},
            {"target":"吉林","source":"黑龙江","value":2},
            {"target":"吉林","source":"吉林","value":1},
            {"target":"吉林","source":"辽宁","value":1},
            {"target":"吉林","source":"山东","value":4},
            {"target":"吉林","source":"天津","value":1},
            {"target":"吉林","source":"未知","value":9},
            {"target":"吉林","source":"新疆","value":1},
            {"target":"湖南","source":"安徽","value":2},
            {"target":"湖南","source":"广东","value":6},
            {"target":"湖南","source":"广西","value":1},
            {"target":"湖南","source":"河北","value":2},
            {"target":"湖南","source":"湖北","value":1},
            {"target":"湖南","source":"湖南","value":1},
            {"target":"湖南","source":"江西","value":1},
            {"target":"湖南","source":"上海","value":1},
            {"target":"湖南","source":"四川","value":2},
            {"target":"湖南","source":"未知","value":5},
            {"target":"湖南","source":"新疆","value":1},
            {"target":"湖南","source":"浙江","value":1},
            {"target":"湖北","source":"北京","value":1},
            {"target":"湖北","source":"福建","value":1},
            {"target":"湖北","source":"广东","value":3},
            {"target":"湖北","source":"贵州","value":2},
            {"target":"湖北","source":"河北","value":6},
            {"target":"湖北","source":"河南","value":1},
            {"target":"湖北","source":"黑龙江","value":1},
            {"target":"湖北","source":"湖北","value":1},
            {"target":"湖北","source":"湖南","value":2},
            {"target":"湖北","source":"吉林","value":1},
            {"target":"湖北","source":"江苏","value":3},
            {"target":"湖北","source":"内蒙古","value":1},
            {"target":"湖北","source":"山东","value":1},
            {"target":"湖北","source":"陕西","value":1},
            {"target":"湖北","source":"未知","value":11},
            {"target":"湖北","source":"云南","value":1},
            {"target":"湖北","source":"浙江","value":1},
            {"target":"黑龙江","source":"山东","value":1},
            {"target":"黑龙江","source":"安徽","value":1},
            {"target":"黑龙江","source":"北京","value":1},
            {"target":"黑龙江","source":"广东","value":1},
            {"target":"黑龙江","source":"河北","value":4},
            {"target":"黑龙江","source":"河南","value":1},
            {"target":"黑龙江","source":"黑龙江","value":1},
            {"target":"黑龙江","source":"湖南","value":1},
            {"target":"黑龙江","source":"吉林","value":2},
            {"target":"黑龙江","source":"辽宁","value":2},
            {"target":"黑龙江","source":"内蒙古","value":1},
            {"target":"黑龙江","source":"山东","value":4},
            {"target":"黑龙江","source":"四川","value":1},
            {"target":"黑龙江","source":"未知","value":5},
            {"target":"河南","source":"安徽","value":1},
            {"target":"河南","source":"北京","value":1},
            {"target":"河南","source":"甘肃","value":1},
            {"target":"河南","source":"广东","value":1},
            {"target":"河南","source":"河北","value":3},
            {"target":"河南","source":"河南","value":124},
            {"target":"河南","source":"湖北","value":1},
            {"target":"河南","source":"江苏","value":3},
            {"target":"河南","source":"山东","value":5},
            {"target":"河南","source":"陕西","value":5},
            {"target":"河南","source":"上海","value":1},
            {"target":"河南","source":"四川","value":3},
            {"target":"河南","source":"未知","value":1},
            {"target":"河南","source":"新疆","value":1},
            {"target":"河南","source":"浙江","value":4},
            {"target":"河南","source":"重庆","value":1},
            {"target":"河北","source":"北京","value":5},
            {"target":"河北","source":"河北","value":1},
            {"target":"河北","source":"河南","value":3},
            {"target":"河北","source":"湖北","value":1},
            {"target":"河北","source":"吉林","value":1},
            {"target":"河北","source":"江苏","value":1},
            {"target":"河北","source":"内蒙古","value":2},
            {"target":"河北","source":"山东","value":2},
            {"target":"河北","source":"山西","value":1},
            {"target":"河北","source":"四川","value":1},
            {"target":"河北","source":"天津","value":3},
            {"target":"河北","source":"未知","value":7},
            {"target":"海南","source":"未知","value":1},
            {"target":"海南","source":"福建","value":2},
            {"target":"海南","source":"海南","value":1},
            {"target":"海南","source":"江苏","value":1},
            {"target":"贵州","source":"福建","value":8},
            {"target":"贵州","source":"广东","value":1},
            {"target":"贵州","source":"贵州","value":1},
            {"target":"贵州","source":"河北","value":1},
            {"target":"贵州","source":"河南","value":3},
            {"target":"贵州","source":"黑龙江","value":1},
            {"target":"贵州","source":"湖南","value":1},
            {"target":"贵州","source":"江苏","value":3},
            {"target":"贵州","source":"山东","value":1},
            {"target":"贵州","source":"山西","value":1},
            {"target":"贵州","source":"四川","value":1},
            {"target":"贵州","source":"未知","value":12},
            {"target":"贵州","source":"云南","value":1},
            {"target":"贵州","source":"重庆","value":2},
            {"target":"贵州","source":"重庆","value":0},
            {"target":"广西","source":"福建","value":2},
            {"target":"广西","source":"广东","value":6},
            {"target":"广西","source":"广西","value":23},
            {"target":"广西","source":"贵州","value":1},
            {"target":"广西","source":"河北","value":2},
            {"target":"广西","source":"河南","value":2},
            {"target":"广西","source":"湖北","value":1},
            {"target":"广西","source":"山西","value":1},
            {"target":"广西","source":"四川","value":2},
            {"target":"广西","source":"未知","value":2},
            {"target":"广东","source":"安徽","value":1},
            {"target":"广东","source":"福建","value":6},
            {"target":"广东","source":"广东","value":1},
            {"target":"广东","source":"广西","value":5},
            {"target":"广东","source":"贵州","value":2},
            {"target":"广东","source":"河北","value":2},
            {"target":"广东","source":"河南","value":4},
            {"target":"广东","source":"湖北","value":1},
            {"target":"广东","source":"湖南","value":7},
            {"target":"广东","source":"江西","value":2},
            {"target":"广东","source":"山东","value":2},
            {"target":"广东","source":"四川","value":1},
            {"target":"广东","source":"未知","value":12},
            {"target":"广东","source":"浙江","value":1},
            {"target":"甘肃","source":"甘肃","value":1},
            {"target":"甘肃","source":"广东","value":2},
            {"target":"甘肃","source":"河北","value":1},
            {"target":"甘肃","source":"河南","value":2},
            {"target":"甘肃","source":"江苏","value":2},
            {"target":"甘肃","source":"四川","value":1},
            {"target":"甘肃","source":"未知","value":2},
            {"target":"甘肃","source":"新疆","value":2},
            {"target":"甘肃","source":"浙江","value":1}]
    };

function colorPic(value){
    if(value<10){return "rgb(255,227,159)"}
    else if(value<20){ return "rgb(216,155,152)"}
    else if(value<30){return "rgb(200,83,66)"}
    else{ return "rgb(62,60,107)"}
}
 
    graph.nodes.forEach(function (node) {
        node.itemStyle = {
            normal:{
                color:colorPic(node.value)
            }
    };
        node.symbolSize = node.value;
        node.label = {
            normal: {
                show: node.value >=5,
            }
        };
        node.x = node.y = null;
        node.category = node.name;
    });
console.log(graph);
    var category = ["重庆","浙江","安徽","云南","新疆","西藏","香港","台湾","天津","四川","上海","福建","山西","北京","山东","青海","宁夏","甘肃","内蒙古","江西","辽宁","江苏","吉林","湖南","湖北","黑龙江","河南","河北","海南","贵州","广西","广东","加拿大","美国","陕西"];
c = category.map(function (a) {
                return {"name":a};
            });
console.log(c);

   option = {
        // title: {
        //     // text: '寻家者的地域联系',
        //     // subtext: 'Circular layout',
        //     // top: 'bottom',
        //     left: 'center'
        // },
        tooltip: {},
        // legend: {
        //     // selectedMode: 'single',
        //     data: category.map(function (a) {
        //         return {"name":a};
        //     })
        // },
        animationDurationUpdate: 1500,
        animationEasingUpdate: 'quinticInOut',
        series : [
            {
                // name: 'Les Miserables',
                type: 'graph',
                layout: 'circular',
                circular: {
                    rotateLabel: true
                },
                data: graph.nodes,
                links: graph.links,
                category: category,
                roam: true,
                label: {
                    normal: {
                        position: 'right',
                        formatter: '{b}'
                    }
                },
                lineStyle: {
                    normal: {
                        color: 'source',
                        curveness: 0.3
                    }
                }
            }
        ]
    };

    myChart.setOption(option);

       
    </script>
</body>